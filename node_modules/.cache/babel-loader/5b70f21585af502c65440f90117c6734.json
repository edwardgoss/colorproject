{"ast":null,"code":"var _jsxFileName = \"/Users/edwardgoss/Documents/2020/new-color-project/src/NewPaletteForm.js\";\nimport React, { useState } from \"react\";\nimport PaletteFormNav from \"./PaletteFormNav\";\nimport ColorPickerForm from \"./ColorPickerForm\";\nimport clsx from \"clsx\";\nimport arrayMove from \"array-move\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport Drawer from \"@material-ui/core/Drawer\";\nimport Button from \"@material-ui/core/Button\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Divider from \"@material-ui/core/Divider\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport ChevronLeftIcon from \"@material-ui/icons/ChevronLeft\";\nimport DraggableColorList from \"./DraggableColorList\";\nimport styles from \"./styles/NewPaletteFormStyles\";\nimport seedColors from \"./seedColors\";\n\nfunction NewPaletteForm(props) {\n  const {\n    maxColors = 20,\n    palettes,\n    classes\n  } = props;\n  const [open, setOpen] = useState(true);\n  const [colors, setColors] = useState(seedColors[0].colors);\n  const paletteIsFull = colors.length >= maxColors;\n\n  const handleDrawer = () => {\n    setOpen(!open);\n  };\n\n  const addNewColor = newColor => {\n    setColors([...colors, newColor]);\n  };\n\n  const handleSubmit = newPalette => {\n    newPalette.id = newPalette.paletteName.toLowerCase().replace(/ /g, \"-\");\n    newPalette.colors = colors;\n    props.savePalette(newPalette);\n    props.history.push(\"/\");\n  };\n\n  const removeColor = colorName => {\n    setColors(colors.filter(color => color.name !== colorName));\n  };\n\n  const onSortEnd = ({\n    oldIndex,\n    newIndex\n  }) => {\n    setColors(arrayMove(colors, oldIndex, newIndex));\n  };\n\n  const clearColors = () => {\n    setColors([]);\n  };\n\n  const addRandomColor = () => {\n    //pick random color from existing palettes\n    const allColors = props.palettes.map(p => p.colors).flat();\n    let rand = Math.floor(Math.random() * allColors.length);\n    let randomColor = allColors[rand];\n    let isDuplicateColor = true;\n\n    while (isDuplicateColor) {\n      rand = Math.floor(Math.random() * allColors.length);\n      randomColor = allColors[rand];\n      isDuplicateColor = colors.some(color => color.name === randomColor.name);\n    }\n\n    setColors([...colors, randomColor]);\n  };\n\n  return React.createElement(\"div\", {\n    className: classes.root,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }, React.createElement(PaletteFormNav, {\n    open: open,\n    palettes: palettes,\n    handleDrawer: handleDrawer,\n    handleSubmit: handleSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }), React.createElement(Drawer, {\n    className: classes.drawer,\n    variant: \"persistent\",\n    anchor: \"left\",\n    open: open,\n    classes: {\n      paper: classes.drawerPaper\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: classes.drawerHeader,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  }, React.createElement(IconButton, {\n    onClick: handleDrawer,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    },\n    __self: this\n  }, React.createElement(ChevronLeftIcon, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83\n    },\n    __self: this\n  }))), React.createElement(Divider, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: classes.container,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87\n    },\n    __self: this\n  }, React.createElement(Typography, {\n    variant: \"h4\",\n    gutterBottom: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88\n    },\n    __self: this\n  }, \"Design Your Palette\"), React.createElement(\"div\", {\n    className: classes.buttons,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91\n    },\n    __self: this\n  }, React.createElement(Button, {\n    variant: \"contained\",\n    color: \"secondary\",\n    onClick: clearColors,\n    className: classes.button,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92\n    },\n    __self: this\n  }, \"Clear Palette\"), React.createElement(Button, {\n    variant: \"contained\",\n    color: \"primary\",\n    onClick: addRandomColor,\n    disabled: paletteIsFull,\n    className: classes.button,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100\n    },\n    __self: this\n  }, \"Random Color\")), React.createElement(ColorPickerForm, {\n    paletteIsFull: paletteIsFull,\n    addNewColor: addNewColor,\n    colors: colors,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110\n    },\n    __self: this\n  }))), React.createElement(\"main\", {\n    className: clsx(classes.content, {\n      [classes.contentShift]: open\n    }),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: classes.drawerHeader,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122\n    },\n    __self: this\n  }), React.createElement(DraggableColorList, {\n    colors: colors,\n    removeColor: removeColor,\n    axis: \"xy\",\n    onSortEnd: onSortEnd,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123\n    },\n    __self: this\n  })));\n}\n\nexport default withStyles(styles, {\n  withTheme: true\n})(NewPaletteForm);","map":{"version":3,"sources":["/Users/edwardgoss/Documents/2020/new-color-project/src/NewPaletteForm.js"],"names":["React","useState","PaletteFormNav","ColorPickerForm","clsx","arrayMove","withStyles","Drawer","Button","Typography","Divider","IconButton","ChevronLeftIcon","DraggableColorList","styles","seedColors","NewPaletteForm","props","maxColors","palettes","classes","open","setOpen","colors","setColors","paletteIsFull","length","handleDrawer","addNewColor","newColor","handleSubmit","newPalette","id","paletteName","toLowerCase","replace","savePalette","history","push","removeColor","colorName","filter","color","name","onSortEnd","oldIndex","newIndex","clearColors","addRandomColor","allColors","map","p","flat","rand","Math","floor","random","randomColor","isDuplicateColor","some","root","drawer","paper","drawerPaper","drawerHeader","container","buttons","button","content","contentShift","withTheme"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport PaletteFormNav from \"./PaletteFormNav\";\nimport ColorPickerForm from \"./ColorPickerForm\";\nimport clsx from \"clsx\";\nimport arrayMove from \"array-move\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport Drawer from \"@material-ui/core/Drawer\";\nimport Button from \"@material-ui/core/Button\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Divider from \"@material-ui/core/Divider\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport ChevronLeftIcon from \"@material-ui/icons/ChevronLeft\";\nimport DraggableColorList from \"./DraggableColorList\";\nimport styles from \"./styles/NewPaletteFormStyles\";\nimport seedColors from \"./seedColors\";\n\nfunction NewPaletteForm(props) {\n  const { maxColors = 20, palettes, classes } = props;\n  const [open, setOpen] = useState(true);\n  const [colors, setColors] = useState(seedColors[0].colors);\n  const paletteIsFull = colors.length >= maxColors;\n\n  const handleDrawer = () => {\n    setOpen(!open);\n  };\n\n  const addNewColor = newColor => {\n    setColors([...colors, newColor]);\n  };\n\n  const handleSubmit = newPalette => {\n    newPalette.id = newPalette.paletteName.toLowerCase().replace(/ /g, \"-\");\n    newPalette.colors = colors;\n    props.savePalette(newPalette);\n    props.history.push(\"/\");\n  };\n\n  const removeColor = colorName => {\n    setColors(colors.filter(color => color.name !== colorName));\n  };\n\n  const onSortEnd = ({ oldIndex, newIndex }) => {\n    setColors(arrayMove(colors, oldIndex, newIndex));\n  };\n\n  const clearColors = () => {\n    setColors([]);\n  };\n\n  const addRandomColor = () => {\n    //pick random color from existing palettes\n    const allColors = props.palettes.map(p => p.colors).flat();\n    let rand = Math.floor(Math.random() * allColors.length);\n    let randomColor = allColors[rand];\n    let isDuplicateColor = true;\n    while (isDuplicateColor) {\n      rand = Math.floor(Math.random() * allColors.length);\n      randomColor = allColors[rand];\n      isDuplicateColor = colors.some(color => color.name === randomColor.name);\n    }\n    setColors([...colors, randomColor]);\n  };\n\n  return (\n    <div className={classes.root}>\n      <PaletteFormNav\n        open={open}\n        palettes={palettes}\n        handleDrawer={handleDrawer}\n        handleSubmit={handleSubmit}\n      />\n      <Drawer\n        className={classes.drawer}\n        variant=\"persistent\"\n        anchor=\"left\"\n        open={open}\n        classes={{\n          paper: classes.drawerPaper\n        }}\n      >\n        <div className={classes.drawerHeader}>\n          <IconButton onClick={handleDrawer}>\n            <ChevronLeftIcon />\n          </IconButton>\n        </div>\n        <Divider />\n        <div className={classes.container}>\n          <Typography variant=\"h4\" gutterBottom>\n            Design Your Palette\n          </Typography>\n          <div className={classes.buttons}>\n            <Button\n              variant=\"contained\"\n              color=\"secondary\"\n              onClick={clearColors}\n              className={classes.button}\n            >\n              Clear Palette\n            </Button>\n            <Button\n              variant=\"contained\"\n              color=\"primary\"\n              onClick={addRandomColor}\n              disabled={paletteIsFull}\n              className={classes.button}\n            >\n              Random Color\n            </Button>\n          </div>\n          <ColorPickerForm\n            paletteIsFull={paletteIsFull}\n            addNewColor={addNewColor}\n            colors={colors}\n          />\n        </div>\n      </Drawer>\n      <main\n        className={clsx(classes.content, {\n          [classes.contentShift]: open\n        })}\n      >\n        <div className={classes.drawerHeader} />\n        <DraggableColorList\n          colors={colors}\n          removeColor={removeColor}\n          axis=\"xy\"\n          onSortEnd={onSortEnd}\n        />\n      </main>\n    </div>\n  );\n}\n\nexport default withStyles(styles, { withTheme: true })(NewPaletteForm);\n"]},"metadata":{},"sourceType":"module"}