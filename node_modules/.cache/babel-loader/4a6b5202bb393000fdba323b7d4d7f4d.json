{"ast":null,"code":"var _jsxFileName = \"/Users/edwardgoss/Documents/2020/new-color-project/src/ColorPickerForm.js\";\nimport React, { useState, useEffect } from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport { ValidatorForm, TextValidator } from \"react-material-ui-form-validator\";\nimport { ChromePicker } from \"react-color\";\nimport { withStyles } from \"@material-ui/core/styles\";\nconst styles = {\n  picker: {\n    width: \"100% !important\",\n    marginTop: \"2rem\"\n  },\n  addColor: {\n    width: \"100%\",\n    padding: \"1rem\",\n    marginTop: \"1rem\",\n    fontSize: \"2rem\"\n  }\n};\n\nfunction ColorPickerForm(props) {\n  const {\n    colors,\n    paletteIsFull,\n    classes\n  } = props;\n  const [currentColor, setCurrentColor] = useState(\"teal\");\n  const [colorName, setColorName] = useState(\"\");\n\n  const updateCurrentColor = newColor => {\n    setCurrentColor(newColor.hex);\n  };\n\n  const handleChange = e => {\n    setColorName(e.target.value);\n  };\n\n  const handleSubmit = () => {\n    const newColor = {\n      color: currentColor,\n      name: colorName\n    };\n    props.addNewColor(newColor);\n    setColorName(\"\");\n  };\n\n  useEffect(() => {\n    ValidatorForm.addValidationRule(\"isColorNameUnique\", value => {\n      return colors.every(({\n        name\n      }) => name.toLowerCase() !== value.toLowerCase());\n    });\n    ValidatorForm.addValidationRule(\"isColorUnique\", () => {\n      return colors.every(({\n        color\n      }) => color !== currentColor);\n    });\n  }, [colors, currentColor]);\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, React.createElement(ChromePicker, {\n    color: currentColor,\n    onChangeComplete: updateCurrentColor,\n    className: classes.picker,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }), React.createElement(ValidatorForm, {\n    onSubmit: handleSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }, React.createElement(TextValidator, {\n    value: colorName,\n    name: \"colorName\",\n    onChange: handleChange,\n    validators: [\"required\", \"isColorNameUnique\", \"isColorUnique\"],\n    errorMessages: [\"Enter a color name\", \"Color name must be unique\", \"Color already used\"],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }), React.createElement(Button, {\n    variant: \"contained\",\n    type: \"submit\",\n    color: \"primary\",\n    disabled: paletteIsFull,\n    className: classes.addColor,\n    style: {\n      backgroundColor: paletteIsFull ? \"grey\" : currentColor\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }, paletteIsFull ? \"Palette Full\" : \"Add Color\")));\n}\n\nexport default withStyles(styles)(ColorPickerForm);","map":{"version":3,"sources":["/Users/edwardgoss/Documents/2020/new-color-project/src/ColorPickerForm.js"],"names":["React","useState","useEffect","Button","ValidatorForm","TextValidator","ChromePicker","withStyles","styles","picker","width","marginTop","addColor","padding","fontSize","ColorPickerForm","props","colors","paletteIsFull","classes","currentColor","setCurrentColor","colorName","setColorName","updateCurrentColor","newColor","hex","handleChange","e","target","value","handleSubmit","color","name","addNewColor","addValidationRule","every","toLowerCase","backgroundColor"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport { ValidatorForm, TextValidator } from \"react-material-ui-form-validator\";\nimport { ChromePicker } from \"react-color\";\nimport { withStyles } from \"@material-ui/core/styles\";\n\nconst styles = {\n  picker: {\n    width: \"100% !important\",\n    marginTop: \"2rem\"\n  },\n  addColor: {\n    width: \"100%\",\n    padding: \"1rem\",\n    marginTop: \"1rem\",\n    fontSize: \"2rem\"\n  }\n};\n\nfunction ColorPickerForm(props) {\n  const { colors, paletteIsFull, classes } = props;\n  const [currentColor, setCurrentColor] = useState(\"teal\");\n  const [colorName, setColorName] = useState(\"\");\n\n  const updateCurrentColor = newColor => {\n    setCurrentColor(newColor.hex);\n  };\n\n  const handleChange = e => {\n    setColorName(e.target.value);\n  };\n\n  const handleSubmit = () => {\n    const newColor = {\n      color: currentColor,\n      name: colorName\n    };\n    props.addNewColor(newColor);\n    setColorName(\"\");\n  };\n\n  useEffect(() => {\n    ValidatorForm.addValidationRule(\"isColorNameUnique\", value => {\n      return colors.every(\n        ({ name }) => name.toLowerCase() !== value.toLowerCase()\n      );\n    });\n    ValidatorForm.addValidationRule(\"isColorUnique\", () => {\n      return colors.every(({ color }) => color !== currentColor);\n    });\n  }, [colors, currentColor]);\n\n  return (\n    <div>\n      <ChromePicker\n        color={currentColor}\n        onChangeComplete={updateCurrentColor}\n        className={classes.picker}\n      />\n      <ValidatorForm onSubmit={handleSubmit}>\n        <TextValidator\n          value={colorName}\n          name=\"colorName\"\n          onChange={handleChange}\n          validators={[\"required\", \"isColorNameUnique\", \"isColorUnique\"]}\n          errorMessages={[\n            \"Enter a color name\",\n            \"Color name must be unique\",\n            \"Color already used\"\n          ]}\n        />\n        <Button\n          variant=\"contained\"\n          type=\"submit\"\n          color=\"primary\"\n          disabled={paletteIsFull}\n          className={classes.addColor}\n          style={{ backgroundColor: paletteIsFull ? \"grey\" : currentColor }}\n        >\n          {paletteIsFull ? \"Palette Full\" : \"Add Color\"}\n        </Button>\n      </ValidatorForm>\n    </div>\n  );\n}\n\nexport default withStyles(styles)(ColorPickerForm);\n"]},"metadata":{},"sourceType":"module"}